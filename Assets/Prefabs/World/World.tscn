[gd_scene load_steps=14 format=3 uid="uid://q3d8f588rgns"]

[ext_resource type="Script" uid="uid://c0j83efpa6svk" path="res://Assets/Prefabs/World/World.cs" id="1_yd2wk"]
[ext_resource type="Script" uid="uid://c43nx6mgcq070" path="res://Source/Game/Common/WaveManager.cs" id="2_oturc"]
[ext_resource type="Material" uid="uid://dmlwnkxbtvg3x" path="res://Assets/Prefabs/World/Water.tres" id="2_xtsie"]
[ext_resource type="Script" uid="uid://dxuxfcosntln8" path="res://Assets/Prefabs/World/WorldArea.cs" id="3_t3kjs"]
[ext_resource type="PackedScene" uid="uid://dkml08sjkleg4" path="res://Source/Game/Player/Player.tscn" id="4_623ao"]
[ext_resource type="PackedScene" uid="uid://ci45mqkirclcs" path="res://Source/Game/Player/UserInterface/HeadsUpDisplay.tscn" id="4_e7xia"]
[ext_resource type="Script" uid="uid://cwio4re8cg5yy" path="res://Source/Game/Mobs/TideSpawner.cs" id="6_623ao"]
[ext_resource type="Script" uid="uid://ckum0efkn2yxu" path="res://Source/Game/Mobs/MobSpawner.cs" id="7_nap3e"]
[ext_resource type="Script" uid="uid://dj6due7fgidad" path="res://Source/Game/Common/EntityManager.cs" id="8_e662y"]

[sub_resource type="Gradient" id="Gradient_623ao"]
offsets = PackedFloat32Array(0.013333334)
colors = PackedColorArray(0, 0, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_nap3e"]
gradient = SubResource("Gradient_623ao")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7ey30"]
size = Vector2(1280, 721)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_623ao"]
vertices = PackedVector2Array(1270, 711, 10, 711, 10, 10, 1270, 10)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(0, 0, 1280, 0, 1280, 721, 0, 721)])

[node name="World" type="Node2D"]
script = ExtResource("1_yd2wk")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(640, 360)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -10

[node name="Water" type="TextureRect" parent="CanvasLayer"]
unique_name_in_owner = true
material = ExtResource("2_xtsie")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("GradientTexture1D_nap3e")
metadata/_edit_use_anchors_ = true

[node name="WorldArea" type="Area2D" parent="."]
script = ExtResource("3_t3kjs")

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldArea"]
position = Vector2(640, 360.5)
shape = SubResource("RectangleShape2D_7ey30")

[node name="WorldBounds" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="WorldBounds"]
build_mode = 1
polygon = PackedVector2Array(1280, 0, 0, 0, 0, 721, 1280, 721)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_623ao")

[node name="HeadsUpDisplay" parent="." instance=ExtResource("4_e7xia")]

[node name="Player" parent="." instance=ExtResource("4_623ao")]
y_sort_enabled = true
position = Vector2(640, 360)

[node name="WaveManager" type="Node" parent="."]
script = ExtResource("2_oturc")

[node name="TideSpawner" type="Node2D" parent="."]
script = ExtResource("6_623ao")

[node name="SpawnTimer" type="Timer" parent="TideSpawner"]
wait_time = 8.5
autostart = true

[node name="SpawnLine" type="Line2D" parent="TideSpawner"]
position = Vector2(29, -36)
points = PackedVector2Array(0, 1, 1219, 2)

[node name="MobSpawner" type="Node2D" parent="."]
script = ExtResource("7_nap3e")

[node name="EntityManager" type="Node" parent="." node_paths=PackedStringArray("_player")]
script = ExtResource("8_e662y")
_player = NodePath("../Player")

[node name="UpgradeManager" type="CanvasLayer" parent="."]
